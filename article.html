<!DOCTYPE html>
<html lang="fr">
<head>
    <script type="text/javascript">
        var _iub = _iub || [];
        _iub.csConfiguration = {"siteId":3968243,"cookiePolicyId":49325135,"lang":"en","storage":{"useSiteId":true}};
        </script>
        <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3968243.js"></script>
        <script type="text/javascript" src="//cdn.iubenda.com/cs/gpp/stub.js"></script>
        <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7LGXNG8MZK"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-7LGXNG8MZK');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chargement...</title>
    <script>
        function getArticle() {
            let params = new URLSearchParams(window.location.search);
            let slug = params.get("slug");

            let articles = JSON.parse(localStorage.getItem("articles")) || [];

            let article = articles.find(a => a.slug === slug);

            if (!article) {
                document.body.innerHTML = "<h2>Article non trouvé</h2><a href='index.html'>Retour</a>";
                return;
            }

            document.title = article.titre; // Modifier le titre de la page
            document.getElementById("titre").textContent = article.titre;
            document.getElementById("description").textContent = article.description;
            document.getElementById("contenu").textContent = article.contenu;

            // Modifier l'URL pour une URL propre
            history.replaceState(null, article.titre, `${article.slug}.html`);
        }
        function afficherArticles() {
            let articles = JSON.parse(localStorage.getItem("articles")) || [];
            let liste = document.getElementById("listeArticles");
            liste.innerHTML = "";

            articles.forEach((article) => {
                let li = document.createElement("li");
                let lien = document.createElement("a");

                lien.href = `article.html?slug=${article.slug}`;
                lien.textContent = article.titre;

                li.appendChild(lien);
                liste.appendChild(li);
            });
        }
        window.onload = getArticle;
    </script>
</head>
<body>
    <h1 id="titre">Chargement...</h1>
    <p><strong>Description :</strong> <span id="description"></span></p>
    <p><strong>Contenu :</strong> <span id="contenu"></span></p>
    <a href="index.html">Retour à la liste</a>
</body>
</html>
